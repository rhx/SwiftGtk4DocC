{"primaryContentSections":[{"kind":"content","content":[{"anchor":"What-is-Gtk","level":2,"type":"heading","text":"What is Gtk?"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/gtk.org\/"},{"type":"text","text":" is a free and open-source cross-platform widget toolkit"},{"type":"text","text":" "},{"type":"text","text":"for creating graphical user interfaces (GUIs).  A user interface created with Gtk"},{"type":"text","text":" "},{"type":"text","text":"consists of UI elements known as widgets.  The Gtk programming interface is based"},{"type":"text","text":" "},{"type":"text","text":"on Object Orientation; widgets are organised in a hierarchy of classes. For instance,"},{"type":"text","text":" "},{"type":"text","text":"the "},{"type":"codeVoice","code":"Window"},{"type":"text","text":" widget is also a specialised container, called a "},{"type":"codeVoice","code":"Bin"},{"type":"text","text":", that can hold at"},{"type":"text","text":" "},{"type":"text","text":"most one child widget."}]},{"anchor":"Swift-Bindings","level":2,"type":"heading","text":"Swift Bindings"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Swift language bindings have been generated using"},{"type":"text","text":" "},{"type":"text","text":"the "},{"type":"codeVoice","code":".gir"},{"type":"text","text":" files from"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/gi.readthedocs.io\/en\/latest\/"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"allowing a more “swifty” use of the library than using it"},{"type":"text","text":" "},{"type":"text","text":"through the low-level C interface."}]},{"anchor":"Prerequisites","level":2,"type":"heading","text":"Prerequisites"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To get the most out of this tutorial, you should be"},{"type":"text","text":" "},{"type":"text","text":"generally familiar with Linux, macOS, or other UNIX-like"},{"type":"text","text":" "},{"type":"text","text":"environments and know how to use a command-line shell"},{"type":"text","text":" "},{"type":"text","text":"such as "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.gnu.org\/software\/bash\/"},{"type":"text","text":" or"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.zsh.org\/"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You will need a"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.swift.org\/getting-started\/cli-swiftpm\/"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"either by"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/support\/xcode\/"},{"type":"text","text":" "},{"type":"text","text":"if you are running macOS, or"},{"type":"text","text":" "},{"type":"text","text":"by "},{"type":"reference","isActive":true,"identifier":"https:\/\/www.swift.org\/install\/"},{"type":"text","text":" "},{"type":"text","text":"directly for your Operating System."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You also need to install the Gtk development libraries"},{"type":"text","text":" "},{"type":"text","text":"for your system."}]},{"anchor":"Installing-Gtk-on-Linux","level":3,"type":"heading","text":"Installing Gtk on Linux"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Most modern Linux distributions come with the Gtk runtime"},{"type":"text","text":" "},{"type":"text","text":"preinstalled, but you will need to install the headers"},{"type":"text","text":" "},{"type":"text","text":"necessary for development."},{"type":"text","text":" "},{"type":"text","text":"This can be done using the package manager for your system."},{"type":"text","text":" "},{"type":"text","text":"For example, on Ubuntu or other Debian-based systems,"},{"type":"text","text":" "},{"type":"text","text":"you can use the "},{"type":"reference","isActive":true,"identifier":"https:\/\/wiki.debian.org\/Apt"},{"type":"text","text":" package"},{"type":"text","text":" "},{"type":"text","text":"manager using the following commands:"}]},{"type":"codeListing","syntax":null,"code":["sudo apt update","sudo apt install libgtk-4-dev gir1.2-gtk-4.0 gir1.2-gtksource-4.0 libcogl-pango-dev libcogl-path-dev libcogl-dev libpango1.0-dev gir1.2-pango-1.0 libgdk-pixbuf2.0-dev gir1.2-gdkpixbuf-2.0 libgraphene-1.0-dev gir1.2-graphene-1.0 libglib2.0-dev glib-networking gobject-introspection libgirepository1.0-dev libxml2-dev jq"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Depending on your Linux distributions, the names of the"},{"type":"text","text":" "},{"type":"text","text":"packages and package management tools will vary."},{"type":"text","text":" "},{"type":"text","text":"You should be able to find this in the documentation for"},{"type":"text","text":" "},{"type":"text","text":"your Linux distribution."}]},{"style":"tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Some more examples can also be found in the"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/rhx\/SwiftGtk\/blob\/main\/README.md"},{"type":"text","text":"."}]}],"type":"aside","name":"Tip"},{"anchor":"Installing-Gtk-on-macOS","level":3,"type":"heading","text":"Installing Gtk on macOS"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For macOS, there are multiple package management tools"},{"type":"text","text":" "},{"type":"text","text":"that you can use."},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"http:\/\/brew.sh\/"},{"type":"text","text":" is one example."},{"type":"text","text":" "},{"type":"text","text":"After you have installed HomeBrew, you can install"},{"type":"text","text":" "},{"type":"text","text":"Gtk using:"}]},{"type":"codeListing","syntax":null,"code":["brew update","brew install gtk4 atk pango glib glib-networking gobject-introspection pkg-config jq"]},{"anchor":"Compiling-SwiftGtk-programs","level":2,"type":"heading","text":"Compiling SwiftGtk programs"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The easiest way to compile programs and libraries using"},{"type":"text","text":" "},{"type":"text","text":"SwiftGtk is through projects using the"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/swift.org\/package-manager\/"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Here is an example for a simple "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/rhx\/SwiftHelloGtk\/tree\/gtk4"},{"type":"text","text":" "},{"type":"text","text":"program."}]},{"anchor":"Creating-a-Project","level":3,"type":"heading","text":"Creating a Project"},{"type":"paragraph","inlineContent":[{"type":"text","text":"First, create a directory (folder) for your project, then"},{"type":"text","text":" "},{"type":"text","text":"create the project inside the folder:"}]},{"type":"codeListing","syntax":null,"code":["mkdir SwiftHelloGtk","cd SwiftHelloGtk","swift package init --type=executable"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This will create a simple “Hello World” executable that"},{"type":"text","text":" "},{"type":"text","text":"you can test using "},{"type":"codeVoice","code":"swift run"},{"type":"text","text":" – the program will run"},{"type":"text","text":" "},{"type":"text","text":"and print “Hello world”."},{"type":"text","text":" "},{"type":"text","text":"If you look at the files generated by "},{"type":"codeVoice","code":"swift package init"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"you will find a file named "},{"type":"codeVoice","code":"Package.swift"},{"type":"text","text":" that represents"},{"type":"text","text":" "},{"type":"text","text":"the project and its compilation targets."},{"type":"text","text":" "},{"type":"text","text":"Overall, if you run"}]},{"type":"codeListing","syntax":null,"code":["find * -type f"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"you should see two files, the aforementioned "},{"type":"codeVoice","code":"Package.swift"},{"type":"text","text":" "},{"type":"text","text":"and a "},{"type":"codeVoice","code":"main.swift"},{"type":"text","text":" in "},{"type":"codeVoice","code":"Sources\/SwiftHelloGtk"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":null,"code":["Package.swift","Sources\/SwiftHelloGtk\/main.swift"]},{"style":"warning","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Some versions of the Swift Package manager create"},{"type":"text","text":" "},{"type":"text","text":"a flat structure when using "},{"type":"codeVoice","code":"swift package init"},{"type":"text","text":" that puts"},{"type":"text","text":" "},{"type":"text","text":"the "},{"type":"codeVoice","code":"main.swift"},{"type":"text","text":" directly in the "},{"type":"codeVoice","code":"Sources"},{"type":"text","text":" folder."},{"type":"text","text":" "},{"type":"text","text":"This will cause the Swift compiler to exit with an error if"},{"type":"text","text":" "},{"type":"text","text":"you try to use "},{"type":"codeVoice","code":"swift run"},{"type":"text","text":"."}]}],"type":"aside","name":"Warning"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Such a faulty structure that places your "},{"type":"codeVoice","code":"main.swift"},{"type":"text","text":" "},{"type":"text","text":"directly in the "},{"type":"codeVoice","code":"Sources"},{"type":"text","text":" folder would look like this:"}]},{"type":"codeListing","syntax":null,"code":["Package.swift","Sources\/main.swift"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In this case, your program won’t compile or run."},{"type":"text","text":" "},{"type":"text","text":"To fix this, you need to move the "},{"type":"codeVoice","code":"main.swift"},{"type":"text","text":" file"},{"type":"text","text":" "},{"type":"text","text":"into a "},{"type":"codeVoice","code":"SwiftHelloGtk"},{"type":"text","text":" subfolder:"}]},{"type":"codeListing","syntax":null,"code":["mkdir Sources\/SwiftHelloGtk","mv Sources\/main.swift Sources\/SwiftHelloGtk\/"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Now you should be able to build your project."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Let us now change the "},{"type":"codeVoice","code":"Package.swift"},{"type":"text","text":" file so that it"},{"type":"text","text":" "},{"type":"text","text":"reads:"}]},{"type":"codeListing","syntax":"Swift","code":["\/\/ swift-tools-version: 5.7","","import PackageDescription","","let package = Package(","    name: \"SwiftHelloGtk\",","    dependencies: [","        .package(url: \"https:\/\/github.com\/rhx\/gir2swift.git\", branch: \"main\"),","        .package(url: \"https:\/\/github.com\/rhx\/SwiftGtk.git\", branch: \"gtk4\"),","    ],","    targets: [","        .executableTarget(","            name: \"SwiftHelloGtk\",","            dependencies: [","                .product(name: \"Gtk\", package: \"SwiftGtk\"),","            ]","        ),","    ]",")"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This will add the relevant dependencies for SwiftGtk"},{"type":"text","text":" "},{"type":"text","text":"to the project.  We can now change the code in our"},{"type":"text","text":" "},{"type":"codeVoice","code":"Sources\/SwiftHelloGtk\/main.swift"},{"type":"text","text":" so that it reads:"}]},{"type":"codeListing","syntax":"Swift","code":["import Gtk","","let status = Application.run(startupHandler: nil) { app in","    let window = ApplicationWindowRef(application: app)","    window.title = \"Hello, World\"","    window.setDefaultSize(width: 160, height: 80)","    let label = LabelRef(str: \"Hello, SwiftGtk\")","    window.set(child: label)","    window.show()","}","","guard let status = status else {","    fatalError(\"Could not create Application\")","}","guard status == 0 else {","    fatalError(\"Application exited with status \\(status)\")","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Compile and run the code using:"}]},{"type":"codeListing","syntax":null,"code":["swift run"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"After some compiler output (and potentially"},{"type":"text","text":" "},{"type":"text","text":"some warnings that you can ignore), the program"},{"type":"text","text":" "},{"type":"text","text":"should start, displaying a "},{"type":"codeVoice","code":"Hello, World!"},{"type":"text","text":" window."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"HelloWorldWindow"}]},{"style":"tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This project and the full source code can be found on GitHub:"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/rhx\/SwiftHelloGtk\/tree\/gtk4-monorepo"}]}],"type":"aside","name":"Tip"},{"anchor":"Structure-of-a-Gtk-Application","level":2,"type":"heading","text":"Structure of a Gtk Application"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The next part of the tutorial looks at the anatomy of a Gtk application:"}]},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/Gtk\/documentation\/Gtk\/GtkAppAnatomy"}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/gtk\/tutorial"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Gtk\/documentation\/Gtk\/Tutorial","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"This tutorial shows how to use Gtk with Swift."},{"type":"text","text":" "},{"type":"text","text":"This is particularly useful if you want to create"},{"type":"text","text":" "},{"type":"text","text":"cross-platform applications with a Graphical User Interface (GUI)."},{"type":"text","text":" "},{"type":"text","text":"SwiftGtk also makes it easy to interact with libraries that use Gtk,"},{"type":"text","text":" "},{"type":"text","text":"even if written in C or other languages."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Using Gtk with Swift","role":"article","modules":[{"name":"Gtk"}]},"hierarchy":{"paths":[["doc:\/\/Gtk\/documentation\/Gtk"]]},"references":{"https://github.com/rhx/SwiftHelloGtk/tree/gtk4-monorepo":{"title":"https:\/\/github.com\/rhx\/SwiftHelloGtk","titleInlineContent":[{"type":"text","text":"https:\/\/github.com\/rhx\/SwiftHelloGtk"}],"type":"link","identifier":"https:\/\/github.com\/rhx\/SwiftHelloGtk\/tree\/gtk4-monorepo","url":"https:\/\/github.com\/rhx\/SwiftHelloGtk\/tree\/gtk4-monorepo"},"https://www.swift.org/install/":{"title":"installing Swift","titleInlineContent":[{"type":"text","text":"installing Swift"}],"type":"link","identifier":"https:\/\/www.swift.org\/install\/","url":"https:\/\/www.swift.org\/install\/"},"https://www.zsh.org/":{"title":"zsh","titleInlineContent":[{"type":"text","text":"zsh"}],"type":"link","identifier":"https:\/\/www.zsh.org\/","url":"https:\/\/www.zsh.org\/"},"HelloWorldWindow":{"alt":"A ","type":"image","identifier":"HelloWorldWindow","variants":[{"url":"\/images\/HelloWorldWindow.png","traits":["1x","light"]},{"url":"\/images\/HelloWorldWindow@2x.png","traits":["2x","light"]}]},"doc://Gtk/documentation/Gtk":{"role":"collection","title":"Gtk","abstract":[],"identifier":"doc:\/\/Gtk\/documentation\/Gtk","kind":"symbol","type":"topic","url":"\/documentation\/gtk"},"https://www.swift.org/getting-started/cli-swiftpm/":{"title":"working Swift compiler","titleInlineContent":[{"type":"text","text":"working Swift compiler"}],"type":"link","identifier":"https:\/\/www.swift.org\/getting-started\/cli-swiftpm\/","url":"https:\/\/www.swift.org\/getting-started\/cli-swiftpm\/"},"https://gtk.org/":{"title":"Gtk","titleInlineContent":[{"type":"text","text":"Gtk"}],"type":"link","identifier":"https:\/\/gtk.org\/","url":"https:\/\/gtk.org\/"},"doc://Gtk/documentation/Gtk/GtkAppAnatomy":{"role":"article","title":"Anatomy of a Gtk Application","abstract":[{"type":"text","text":"Gtk user interfaces consist of widgets."},{"type":"text","text":" "},{"type":"text","text":"Widgets are objects that derive from "},{"type":"codeVoice","code":"\/GlibObject\/Object"},{"type":"text","text":" "},{"type":"text","text":"and are organised in a hierarchical fashion, i.e.,"},{"type":"text","text":" "},{"type":"text","text":"every widget is a container that can contain zero, one,"},{"type":"text","text":" "},{"type":"text","text":"or sometimes more than one other widget."}],"identifier":"doc:\/\/Gtk\/documentation\/Gtk\/GtkAppAnatomy","kind":"article","type":"topic","url":"\/documentation\/gtk\/gtkappanatomy"},"https://gi.readthedocs.io/en/latest/":{"title":"GObject Introspection","titleInlineContent":[{"type":"text","text":"GObject Introspection"}],"type":"link","identifier":"https:\/\/gi.readthedocs.io\/en\/latest\/","url":"https:\/\/gi.readthedocs.io\/en\/latest\/"},"https://swift.org/package-manager/":{"title":"Swift Package Manager","titleInlineContent":[{"type":"text","text":"Swift Package Manager"}],"type":"link","identifier":"https:\/\/swift.org\/package-manager\/","url":"https:\/\/swift.org\/package-manager\/"},"https://developer.apple.com/support/xcode/":{"title":"installing Xcode","titleInlineContent":[{"type":"text","text":"installing Xcode"}],"type":"link","identifier":"https:\/\/developer.apple.com\/support\/xcode\/","url":"https:\/\/developer.apple.com\/support\/xcode\/"},"http://brew.sh/":{"title":"HomeBrew","titleInlineContent":[{"type":"text","text":"HomeBrew"}],"type":"link","identifier":"http:\/\/brew.sh\/","url":"http:\/\/brew.sh\/"},"https://wiki.debian.org/Apt":{"title":"apt","titleInlineContent":[{"type":"text","text":"apt"}],"type":"link","identifier":"https:\/\/wiki.debian.org\/Apt","url":"https:\/\/wiki.debian.org\/Apt"},"https://github.com/rhx/SwiftHelloGtk/tree/gtk4":{"title":"Hello World","titleInlineContent":[{"type":"text","text":"Hello World"}],"type":"link","identifier":"https:\/\/github.com\/rhx\/SwiftHelloGtk\/tree\/gtk4","url":"https:\/\/github.com\/rhx\/SwiftHelloGtk\/tree\/gtk4"},"https://github.com/rhx/SwiftGtk/blob/main/README.md":{"title":"README","titleInlineContent":[{"type":"text","text":"README"}],"type":"link","identifier":"https:\/\/github.com\/rhx\/SwiftGtk\/blob\/main\/README.md","url":"https:\/\/github.com\/rhx\/SwiftGtk\/blob\/main\/README.md"},"https://www.gnu.org/software/bash/":{"title":"bash","titleInlineContent":[{"type":"text","text":"bash"}],"type":"link","identifier":"https:\/\/www.gnu.org\/software\/bash\/","url":"https:\/\/www.gnu.org\/software\/bash\/"}}}