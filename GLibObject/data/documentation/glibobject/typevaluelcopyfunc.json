{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"TypeValueLCopyFunc"},{"kind":"text","text":" = "},{"kind":"typeIdentifier","text":"GTypeValueLCopyFunc","preciseIdentifier":"c:@T@GTypeValueLCopyFunc"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"n_collect_values"},{"type":"text","text":" argument equals the string length of"},{"type":"text","text":" "},{"type":"codeVoice","code":"lcopy_format"},{"type":"text","text":", and "},{"type":"codeVoice","code":"collect_flags"},{"type":"text","text":" may contain "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/valueNocopyContents"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In contrast to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/TypeValueCollectFunc"},{"type":"text","text":", this function is obliged to always"},{"type":"text","text":" "},{"type":"text","text":"properly support "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/valueNocopyContents"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Similar to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/TypeValueCollectFunc"},{"type":"text","text":" the function may prematurely abort by"},{"type":"text","text":" "},{"type":"text","text":"returning a newly allocated string describing an error condition. To"},{"type":"text","text":" "},{"type":"text","text":"complete the string example:"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"(C Language Example):"}]},{"type":"codeListing","syntax":"C","code":["gchar **string_p = collect_values[0].v_pointer;","g_return_val_if_fail (string_p != NULL,","  g_strdup (\"string location passed as NULL\"));","","if (collect_flags & G_VALUE_NOCOPY_CONTENTS)","  *string_p = value->data[0].v_pointer;","else","  *string_p = g_strdup (value->data[0].v_pointer);"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"And an illustrative version of this function for reference-counted"},{"type":"text","text":" "},{"type":"text","text":"types:"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"(C Language Example):"}]},{"type":"codeListing","syntax":"C","code":["GObject **object_p = collect_values[0].v_pointer;","g_return_val_if_fail (object_p != NULL,","  g_strdup (\"object location passed as NULL\"));","","if (value->data[0].v_pointer == NULL)","  *object_p = NULL;","else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) \/\/ always honour","  *object_p = value->data[0].v_pointer;","else","  *object_p = g_object_ref (value->data[0].v_pointer);","","return NULL;"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/glibobject\/typevaluelcopyfunc"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/GLibObject\/documentation\/GLibObject\/TypeValueLCopyFunc","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"This function is responsible for storing the "},{"type":"codeVoice","code":"value"},{"type":"text","text":" "},{"type":"text","text":"contents into arguments passed through a variadic argument list which"},{"type":"text","text":" "},{"type":"text","text":"got collected into "},{"type":"codeVoice","code":"collect_values"},{"type":"text","text":" according to "},{"type":"codeVoice","code":"lcopy_format"},{"type":"text","text":"."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"TypeValueLCopyFunc"}],"title":"TypeValueLCopyFunc","roleHeading":"Type Alias","role":"symbol","symbolKind":"typealias","externalID":"s:10GLibObject18TypeValueLCopyFunca","modules":[{"name":"GLibObject"}],"navigatorTitle":[{"kind":"identifier","text":"TypeValueLCopyFunc"}]},"hierarchy":{"paths":[["doc:\/\/GLibObject\/documentation\/GLibObject"]]},"references":{"doc://GLibObject/documentation/GLibObject/Value":{"role":"symbol","title":"Value","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Value"}],"abstract":[{"type":"text","text":"This class is the main Swift wrapper with memory management"},{"type":"text","text":" "},{"type":"text","text":"for underlying "},{"type":"codeVoice","code":"GValues"},{"type":"text","text":" (the opaque GLib structure used to"},{"type":"text","text":" "},{"type":"text","text":"hold different types of values."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Value","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Value"}],"url":"\/documentation\/glibobject\/value"},"doc://GLibObject/documentation/GLibObject/valueNocopyContents":{"role":"symbol","title":"valueNocopyContents","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"valueNocopyContents"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int32","preciseIdentifier":"s:s5Int32V"}],"abstract":[{"type":"text","text":"If passed to "},{"type":"codeVoice","code":"G_VALUE_COLLECT()"},{"type":"text","text":", allocated data wonâ€™t be copied"},{"type":"text","text":" "},{"type":"text","text":"but used verbatim. This does not affect ref-counted types like"},{"type":"text","text":" "},{"type":"text","text":"objects. This does not affect usage of "},{"type":"codeVoice","code":"g_value_copy()"},{"type":"text","text":", the data will"},{"type":"text","text":" "},{"type":"text","text":"be copied if it is not ref-counted."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/valueNocopyContents","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/valuenocopycontents"},"doc://GLibObject/documentation/GLibObject/TypeValueLCopyFunc":{"role":"symbol","title":"TypeValueLCopyFunc","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"TypeValueLCopyFunc"}],"abstract":[{"type":"text","text":"This function is responsible for storing the "},{"type":"codeVoice","code":"value"},{"type":"text","text":" "},{"type":"text","text":"contents into arguments passed through a variadic argument list which"},{"type":"text","text":" "},{"type":"text","text":"got collected into "},{"type":"codeVoice","code":"collect_values"},{"type":"text","text":" according to "},{"type":"codeVoice","code":"lcopy_format"},{"type":"text","text":"."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/TypeValueLCopyFunc","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TypeValueLCopyFunc"}],"url":"\/documentation\/glibobject\/typevaluelcopyfunc"},"doc://GLibObject/documentation/GLibObject/TypeValueCollectFunc":{"role":"symbol","title":"TypeValueCollectFunc","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"TypeValueCollectFunc"}],"abstract":[{"type":"text","text":"This function is responsible for converting the values collected from"},{"type":"text","text":" "},{"type":"text","text":"a variadic argument list into contents suitable for storage in a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Value"},{"type":"text","text":"."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/TypeValueCollectFunc","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TypeValueCollectFunc"}],"url":"\/documentation\/glibobject\/typevaluecollectfunc"},"doc://GLibObject/documentation/GLibObject":{"role":"collection","title":"GLibObject","abstract":[],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject","kind":"symbol","type":"topic","url":"\/documentation\/glibobject"}}}