{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Closure"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"It will generally comprise a function of some kind and a marshaller"},{"type":"text","text":" "},{"type":"text","text":"used to call it. It is the responsibility of the marshaller to"},{"type":"text","text":" "},{"type":"text","text":"convert the arguments for the invocation from "},{"type":"codeVoice","code":"GValues"},{"type":"text","text":" into"},{"type":"text","text":" "},{"type":"text","text":"a suitable form, perform the callback on the converted arguments,"},{"type":"text","text":" "},{"type":"text","text":"and transform the return value back into a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Value"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In the case of C programs, a closure usually just holds a pointer"},{"type":"text","text":" "},{"type":"text","text":"to a function and maybe a data argument, and the marshaller"},{"type":"text","text":" "},{"type":"text","text":"converts between "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Value"},{"type":"text","text":" and native C types. The GObject"},{"type":"text","text":" "},{"type":"text","text":"library provides the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/CClosure"},{"type":"text","text":" type for this purpose. Bindings for"},{"type":"text","text":" "},{"type":"text","text":"other languages need marshallers which convert between "},{"type":"codeVoice","code":"GValues"},{"type":"text","text":" "},{"type":"text","text":"and suitable representations in the runtime of the language in"},{"type":"text","text":" "},{"type":"text","text":"order to use functions written in that language as callbacks. Use"},{"type":"text","text":" "},{"type":"codeVoice","code":"g_closure_set_marshal()"},{"type":"text","text":" to set the marshaller on such a custom"},{"type":"text","text":" "},{"type":"text","text":"closure implementation."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Within GObject, closures play an important role in the"},{"type":"text","text":" "},{"type":"text","text":"implementation of signals. When a signal is registered, the"},{"type":"text","text":" "},{"type":"codeVoice","code":"c_marshaller"},{"type":"text","text":" argument to "},{"type":"codeVoice","code":"g_signal_new()"},{"type":"text","text":" specifies the default C"},{"type":"text","text":" "},{"type":"text","text":"marshaller for any closure which is connected to this"},{"type":"text","text":" "},{"type":"text","text":"signal. GObject provides a number of C marshallers for this"},{"type":"text","text":" "},{"type":"text","text":"purpose, see the g_cclosure_marshal_"},{"type":"emphasis","inlineContent":[{"type":"text","text":"() functions. Additional C"},{"type":"text","text":" "},{"type":"text","text":"marshallers can be generated with the "},{"type":"reference","isActive":true,"identifier":"#glib-genmarshal"},{"type":"text","text":" "},{"type":"text","text":"utility.  Closures can be explicitly connected to signals with"},{"type":"text","text":" "},{"type":"codeVoice","code":"g_signal_connect_closure()"},{"type":"text","text":", but it usually more convenient to let"},{"type":"text","text":" "},{"type":"text","text":"GObject create a closure automatically by using one of the"},{"type":"text","text":" "},{"type":"text","text":"g_signal_connect_"}]},{"type":"text","text":"() functions which take a callback function\/user"},{"type":"text","text":" "},{"type":"text","text":"data pair."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Using closures has a number of important advantages over a simple"},{"type":"text","text":" "},{"type":"text","text":"callback function\/data pointer combination:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Closures allow the callee to get the types of the callback parameters,"},{"type":"text","text":" "},{"type":"text","text":"which means that language bindings don’t have to write individual glue"},{"type":"text","text":" "},{"type":"text","text":"for each callback type."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The reference counting of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" makes it easy to handle reentrancy"},{"type":"text","text":" "},{"type":"text","text":"right; if a callback is removed while it is being invoked, the closure"},{"type":"text","text":" "},{"type":"text","text":"and its parameters won’t be freed until the invocation finishes."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"g_closure_invalidate()"},{"type":"text","text":" and invalidation notifiers allow callbacks to be"},{"type":"text","text":" "},{"type":"text","text":"automatically removed when the objects they point to go away."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" type acts as a reference-counted owner of an underlying "},{"type":"codeVoice","code":"GClosure"},{"type":"text","text":" instance."},{"type":"text","text":" "},{"type":"text","text":"It provides the methods that can operate on this data type through "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol"},{"type":"text","text":" conformance."},{"type":"text","text":" "},{"type":"text","text":"Use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" as a strong reference or owner of a "},{"type":"codeVoice","code":"GClosure"},{"type":"text","text":" instance."}]},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureRef"},{"type":"text","text":" (instead of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":") for a lightweight Swift reference to an underlying "},{"type":"codeVoice","code":"GClosure"},{"type":"text","text":" instance."}]}],"type":"aside","name":"Note"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/glibobject\/closure"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol","doc:\/\/GLibObject\/4GLib14PointerWrapperP"],"kind":"relationships","title":"Conforms To","type":"conformsTo"}],"identifier":{"url":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"A "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" represents a callback supplied by the programmer."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Closure"}],"title":"Closure","roleHeading":"Class","role":"symbol","symbolKind":"class","externalID":"s:10GLibObject7ClosureC","modules":[{"name":"GLibObject"}],"navigatorTitle":[{"kind":"identifier","text":"Closure"}]},"hierarchy":{"paths":[["doc:\/\/GLibObject\/documentation\/GLibObject"]]},"topicSections":[{"title":"Initializers","identifiers":["doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(_:)-3dal7","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(_:)-3g7pp","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(_:)-3sg1w","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(_:)-6iibg","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(_:)-8g8g2","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(cPointer:)","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(gconstpointer:)","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(gpointer:)","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(object:object:)","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(opaquePointer:)","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(raw:)-26247","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(raw:)-797bm","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(retaining:)","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(retainingCPointer:)","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(retainingOpaquePointer:)","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(retainingRaw:)-16wjq","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(retainingRaw:)-7dv4s","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(simple:data:)"]},{"title":"Instance Properties","identifiers":["doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/ptr"]},{"title":"Type Methods","identifiers":["doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/new(object:object:)","doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/new(simple:data:)"]},{"title":"Default Implementations","identifiers":["doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/ClosureProtocol-Implementations"],"generated":true}],"references":{"doc://GLibObject/documentation/GLibObject/Closure/init(_:)-3sg1w":{"role":"symbol","title":"init(_:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"!("},{"kind":"typeIdentifier","text":"UnsafeMutablePointer","preciseIdentifier":"s:Sp"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"GClosure"},{"kind":"text","text":">?)"}],"abstract":[{"type":"text","text":"Optional initialiser from the underlying "},{"type":"codeVoice","code":"C"},{"type":"text","text":" data type."},{"type":"text","text":" "},{"type":"text","text":"This creates an instance without performing an unbalanced retain"},{"type":"text","text":" "},{"type":"text","text":"i.e., ownership is transferred to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" instance."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(_:)-3sg1w","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(_:)-3sg1w"},"doc://GLibObject/documentation/GLibObject/Closure/ClosureProtocol-Implementations":{"role":"collectionGroup","title":"ClosureProtocol Implementations","abstract":[],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/ClosureProtocol-Implementations","kind":"article","type":"topic","url":"\/documentation\/glibobject\/closure\/closureprotocol-implementations"},"doc://GLibObject/documentation/GLibObject/Closure/init(simple:data:)":{"role":"symbol","title":"init(simple:data:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"simple"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"data"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"gpointer","preciseIdentifier":"c:gtypes.h@T@gpointer"},{"kind":"text","text":"?)"}],"abstract":[{"type":"text","text":"Allocates a struct of the given size and initializes the initial"},{"type":"text","text":" "},{"type":"text","text":"part as a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":"."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(simple:data:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(simple:data:)"},"doc://GLibObject/documentation/GLibObject/Closure/init(gconstpointer:)":{"role":"symbol","title":"init(gconstpointer:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"!("},{"kind":"externalParam","text":"gconstpointer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"gconstpointer","preciseIdentifier":"c:@T@gconstpointer"},{"kind":"text","text":"?)"}],"abstract":[{"type":"text","text":"Optional initialiser from a non-mutating "},{"type":"codeVoice","code":"gconstpointer"},{"type":"text","text":" to"},{"type":"text","text":" "},{"type":"text","text":"the underlying "},{"type":"codeVoice","code":"C"},{"type":"text","text":" data type."},{"type":"text","text":" "},{"type":"text","text":"This creates an instance without performing an unbalanced retain"},{"type":"text","text":" "},{"type":"text","text":"i.e., ownership is transferred to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" instance."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(gconstpointer:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(gconstpointer:)"},"doc://GLibObject/documentation/GLibObject/Closure/init(_:)-3g7pp":{"role":"symbol","title":"init(_:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Reference intialiser for a related type that implements "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol"},{"type":"text","text":" "},{"type":"text","text":"Will retain "},{"type":"codeVoice","code":"GClosure"},{"type":"text","text":"."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(_:)-3g7pp","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(_:)-3g7pp"},"doc://GLibObject/documentation/GLibObject/Closure/init(retainingOpaquePointer:)":{"role":"symbol","title":"init(retainingOpaquePointer:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"retainingOpaquePointer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"OpaquePointer","preciseIdentifier":"s:s13OpaquePointerV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Unsafe untyped, retaining initialiser."},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"type":"text","text":"Do not use unless you know the underlying data type the pointer points to conforms to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol"},{"type":"text","text":"."}]}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(retainingOpaquePointer:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(retainingopaquepointer:)"},"doc://GLibObject/documentation/GLibObject/Closure/new(object:object:)":{"role":"symbol","title":"new(object:object:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"new"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"ObjectT"},{"kind":"text","text":">("},{"kind":"externalParam","text":"object"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"object"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ObjectT"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Closure","preciseIdentifier":"s:10GLibObject7ClosureC"},{"kind":"text","text":"!"}],"abstract":[{"type":"text","text":"A variant of "},{"type":"codeVoice","code":"g_closure_new_simple()"},{"type":"text","text":" which stores "},{"type":"codeVoice","code":"object"},{"type":"text","text":" in the"},{"type":"text","text":" "},{"type":"codeVoice","code":"data"},{"type":"text","text":" field of the closure and calls "},{"type":"codeVoice","code":"g_object_watch_closure()"},{"type":"text","text":" on"},{"type":"text","text":" "},{"type":"codeVoice","code":"object"},{"type":"text","text":" and the created closure. This function is mainly useful"},{"type":"text","text":" "},{"type":"text","text":"when implementing new types of closures."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/new(object:object:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/new(object:object:)"},"doc://GLibObject/documentation/GLibObject/CClosure":{"role":"symbol","title":"CClosure","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"CClosure"}],"abstract":[{"type":"text","text":"A "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/CClosure"},{"type":"text","text":" is a specialization of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" for C function callbacks."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/CClosure","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"CClosure"}],"url":"\/documentation\/glibobject\/cclosure"},"doc://GLibObject/4GLib14PointerWrapperP":{"type":"unresolvable","title":"GLib.PointerWrapper","identifier":"doc:\/\/GLibObject\/4GLib14PointerWrapperP"},"doc://GLibObject/documentation/GLibObject/Closure/init(retainingRaw:)-16wjq":{"role":"symbol","title":"init(retainingRaw:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"retainingRaw"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafeRawPointer","preciseIdentifier":"s:SV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Unsafe untyped, retaining initialiser."},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"type":"text","text":"Do not use unless you know the underlying data type the pointer points to conforms to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol"},{"type":"text","text":"."}]}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(retainingRaw:)-16wjq","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(retainingraw:)-16wjq"},"doc://GLibObject/documentation/GLibObject/Closure/init(retaining:)":{"role":"symbol","title":"init(retaining:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"retaining"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafeMutablePointer","preciseIdentifier":"s:Sp"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"GClosure"},{"kind":"text","text":">)"}],"abstract":[{"type":"text","text":"Designated initialiser from the underlying "},{"type":"codeVoice","code":"C"},{"type":"text","text":" data type."},{"type":"text","text":" "},{"type":"text","text":"Will retain "},{"type":"codeVoice","code":"GClosure"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"i.e., ownership is transferred to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" instance."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(retaining:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(retaining:)"},"doc://GLibObject/documentation/GLibObject/Closure/init(gpointer:)":{"role":"symbol","title":"init(gpointer:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"!("},{"kind":"externalParam","text":"gpointer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"gpointer","preciseIdentifier":"c:gtypes.h@T@gpointer"},{"kind":"text","text":"?)"}],"abstract":[{"type":"text","text":"Optional initialiser from a non-mutating "},{"type":"codeVoice","code":"gpointer"},{"type":"text","text":" to"},{"type":"text","text":" "},{"type":"text","text":"the underlying "},{"type":"codeVoice","code":"C"},{"type":"text","text":" data type."},{"type":"text","text":" "},{"type":"text","text":"This creates an instance without performing an unbalanced retain"},{"type":"text","text":" "},{"type":"text","text":"i.e., ownership is transferred to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" instance."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(gpointer:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(gpointer:)"},"doc://GLibObject/documentation/GLibObject/Closure/init(raw:)-797bm":{"role":"symbol","title":"init(raw:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"raw"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafeMutableRawPointer","preciseIdentifier":"s:Sv"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Unsafe untyped initialiser."},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"type":"text","text":"Do not use unless you know the underlying data type the pointer points to conforms to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol"},{"type":"text","text":"."}]}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(raw:)-797bm","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(raw:)-797bm"},"doc://GLibObject/documentation/GLibObject":{"role":"collection","title":"GLibObject","abstract":[],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject","kind":"symbol","type":"topic","url":"\/documentation\/glibobject"},"doc://GLibObject/documentation/GLibObject/Closure/init(retainingCPointer:)":{"role":"symbol","title":"init(retainingCPointer:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"externalParam","text":"retainingCPointer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafeMutablePointer","preciseIdentifier":"s:Sp"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":">)"}],"abstract":[{"type":"text","text":"Unsafe typed, retaining initialiser."},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"type":"text","text":"Do not use unless you know the underlying data type the pointer points to conforms to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol"},{"type":"text","text":"."}]}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(retainingCPointer:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(retainingcpointer:)"},"doc://GLibObject/documentation/GLibObject/ClosureProtocol":{"role":"symbol","title":"ClosureProtocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ClosureProtocol"}],"abstract":[{"type":"text","text":"A "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" represents a callback supplied by the programmer."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ClosureProtocol"}],"url":"\/documentation\/glibobject\/closureprotocol"},"doc://GLibObject/documentation/GLibObject/Closure/init(raw:)-26247":{"role":"symbol","title":"init(raw:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"raw"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafeRawPointer","preciseIdentifier":"s:SV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Unsafe untyped initialiser."},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"type":"text","text":"Do not use unless you know the underlying data type the pointer points to conforms to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol"},{"type":"text","text":"."}]}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(raw:)-26247","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(raw:)-26247"},"doc://GLibObject/documentation/GLibObject/Closure/init(_:)-3dal7":{"role":"symbol","title":"init(_:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"!("},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"GClosure"},{"kind":"text","text":">?)"}],"abstract":[{"type":"text","text":"Optional initialiser from a constant pointer to the underlying "},{"type":"codeVoice","code":"C"},{"type":"text","text":" data type."},{"type":"text","text":" "},{"type":"text","text":"This creates an instance without performing an unbalanced retain"},{"type":"text","text":" "},{"type":"text","text":"i.e., ownership is transferred to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" instance."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(_:)-3dal7","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(_:)-3dal7"},"doc://GLibObject/documentation/GLibObject/Closure/init(_:)-6iibg":{"role":"symbol","title":"init(_:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"UnsafeMutablePointer","preciseIdentifier":"s:Sp"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"GClosure"},{"kind":"text","text":">)"}],"abstract":[{"type":"text","text":"Designated initialiser from the underlying "},{"type":"codeVoice","code":"C"},{"type":"text","text":" data type."},{"type":"text","text":" "},{"type":"text","text":"This creates an instance without performing an unbalanced retain"},{"type":"text","text":" "},{"type":"text","text":"i.e., ownership is transferred to the "},{"type":"codeVoice","code":"Closure"},{"type":"text","text":" instance."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(_:)-6iibg","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(_:)-6iibg"},"doc://GLibObject/documentation/GLibObject/ClosureProtocol/closure_ptr-3bm9e":{"defaultImplementations":1,"role":"symbol","title":"closure_ptr","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"closure_ptr"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafeMutablePointer","preciseIdentifier":"s:Sp"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"GClosure"},{"kind":"text","text":">!"}],"abstract":[{"type":"text","text":"Typed pointer to the underlying "},{"type":"codeVoice","code":"GClosure"},{"type":"text","text":" instance."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol\/closure_ptr-3bm9e","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/glibobject\/closureprotocol\/closure_ptr-3bm9e"},"doc://GLibObject/documentation/GLibObject/Closure/ptr":{"role":"symbol","title":"ptr","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"ptr"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafeMutableRawPointer","preciseIdentifier":"s:Sv"},{"kind":"text","text":"!"}],"abstract":[{"type":"text","text":"Untyped pointer to the underlying "},{"type":"codeVoice","code":"GClosure"},{"type":"text","text":" instance."},{"type":"text","text":" "},{"type":"text","text":"For type-safe access, use the generated, typed pointer "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol\/closure_ptr-3bm9e"},{"type":"text","text":" property instead."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/ptr","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/ptr"},"doc://GLibObject/documentation/GLibObject/Closure/init(opaquePointer:)":{"role":"symbol","title":"init(opaquePointer:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"opaquePointer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"OpaquePointer","preciseIdentifier":"s:s13OpaquePointerV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Unsafe untyped initialiser."},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"type":"text","text":"Do not use unless you know the underlying data type the pointer points to conforms to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol"},{"type":"text","text":"."}]}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(opaquePointer:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(opaquepointer:)"},"doc://GLibObject/documentation/GLibObject/Closure/init(_:)-8g8g2":{"role":"symbol","title":"init(_:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"UnsafePointer","preciseIdentifier":"s:SP"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"GClosure"},{"kind":"text","text":">)"}],"abstract":[{"type":"text","text":"Designated initialiser from a constant pointer to the underlying "},{"type":"codeVoice","code":"C"},{"type":"text","text":" data type."},{"type":"text","text":" "},{"type":"text","text":"This creates an instance without performing an unbalanced retain"},{"type":"text","text":" "},{"type":"text","text":"i.e., ownership is transferred to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" instance."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(_:)-8g8g2","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(_:)-8g8g2"},"doc://GLibObject/documentation/GLibObject/Closure/init(object:object:)":{"role":"symbol","title":"init(object:object:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"ObjectT"},{"kind":"text","text":">("},{"kind":"externalParam","text":"object"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"object"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ObjectT"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"A variant of "},{"type":"codeVoice","code":"g_closure_new_simple()"},{"type":"text","text":" which stores "},{"type":"codeVoice","code":"object"},{"type":"text","text":" in the"},{"type":"text","text":" "},{"type":"codeVoice","code":"data"},{"type":"text","text":" field of the closure and calls "},{"type":"codeVoice","code":"g_object_watch_closure()"},{"type":"text","text":" on"},{"type":"text","text":" "},{"type":"codeVoice","code":"object"},{"type":"text","text":" and the created closure. This function is mainly useful"},{"type":"text","text":" "},{"type":"text","text":"when implementing new types of closures."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(object:object:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(object:object:)"},"doc://GLibObject/documentation/GLibObject/Closure/new(simple:data:)":{"role":"symbol","title":"new(simple:data:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"new"},{"kind":"text","text":"("},{"kind":"externalParam","text":"simple"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"data"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"gpointer","preciseIdentifier":"c:gtypes.h@T@gpointer"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Closure","preciseIdentifier":"s:10GLibObject7ClosureC"},{"kind":"text","text":"!"}],"abstract":[{"type":"text","text":"Allocates a struct of the given size and initializes the initial"},{"type":"text","text":" "},{"type":"text","text":"part as a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":"."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/new(simple:data:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/new(simple:data:)"},"doc://GLibObject/documentation/GLibObject/ClosureRef":{"role":"symbol","title":"ClosureRef","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"ClosureRef"}],"abstract":[{"type":"text","text":"A "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" represents a callback supplied by the programmer."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureRef","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ClosureRef"}],"url":"\/documentation\/glibobject\/closureref"},"doc://GLibObject/documentation/GLibObject/Closure":{"role":"symbol","title":"Closure","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Closure"}],"abstract":[{"type":"text","text":"A "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure"},{"type":"text","text":" represents a callback supplied by the programmer."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Closure"}],"url":"\/documentation\/glibobject\/closure"},"doc://GLibObject/documentation/GLibObject/Value":{"role":"symbol","title":"Value","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Value"}],"abstract":[{"type":"text","text":"This class is the main Swift wrapper with memory management"},{"type":"text","text":" "},{"type":"text","text":"for underlying "},{"type":"codeVoice","code":"GValues"},{"type":"text","text":" (the opaque GLib structure used to"},{"type":"text","text":" "},{"type":"text","text":"hold different types of values."}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Value","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Value"}],"url":"\/documentation\/glibobject\/value"},"doc://GLibObject/documentation/GLibObject/Closure/init(retainingRaw:)-7dv4s":{"role":"symbol","title":"init(retainingRaw:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"retainingRaw"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafeMutableRawPointer","preciseIdentifier":"s:Sv"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Unsafe untyped, retaining initialiser."},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"type":"text","text":"Do not use unless you know the underlying data type the pointer points to conforms to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol"},{"type":"text","text":"."}]}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(retainingRaw:)-7dv4s","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(retainingraw:)-7dv4s"},"doc://GLibObject/documentation/GLibObject/Closure/init(cPointer:)":{"role":"symbol","title":"init(cPointer:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"externalParam","text":"cPointer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UnsafeMutablePointer","preciseIdentifier":"s:Sp"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":">)"}],"abstract":[{"type":"text","text":"Unsafe typed initialiser."},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"type":"text","text":"Do not use unless you know the underlying data type the pointer points to conforms to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/ClosureProtocol"},{"type":"text","text":"."}]}],"identifier":"doc:\/\/GLibObject\/documentation\/GLibObject\/Closure\/init(cPointer:)","kind":"symbol","type":"topic","url":"\/documentation\/glibobject\/closure\/init(cpointer:)"},"#glib-genmarshal":{"title":"glib-genmarshal","titleInlineContent":[{"type":"text","text":"glib-genmarshal"}],"type":"link","identifier":"#glib-genmarshal","url":"#glib-genmarshal"}}}